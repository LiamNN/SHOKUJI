<div class="container-calendar">
  <div class="calendar">
    <h2 class>Plan your meals</h2>
    <%= week_calendar do |date| %>
      <div class="schedule-recipe-calendar">
        <div class="time-slot" style="height: 33%;">
          <p>Breakfast</p>
          <div class="<%= current_user.scheduled_recipes.where(scheduled_date: date, time_of_day: "breakfast").count.positive? ? '' : 'recipe-slot' %>" data-date="<%= date %>" data-time="breakfast">
            <% current_user.scheduled_recipes.where(scheduled_date: date, time_of_day: "breakfast").each do |scheduled_recipe| %>
              <%= render 'scheduled_recipes/scheduled_recipe', scheduled_recipe: scheduled_recipe %>
            <% end %>
          </div>
        </div>
        <div class="time-slot">
          <p>Lunch</p>
          <div class="<%= current_user.scheduled_recipes.where(scheduled_date: date, time_of_day: "lunch").count.positive? ? '' : 'recipe-slot' %>" data-date="<%= date %>" data-time="lunch">
            <% current_user.scheduled_recipes.where(scheduled_date: date, time_of_day: "lunch").each do |scheduled_recipe| %>
              <%= render 'scheduled_recipes/scheduled_recipe', scheduled_recipe: scheduled_recipe %>
            <% end %>
          </div>
        </div>
          <div class="time-slot">
          <p>Dinner</p>
          <div class="<%= current_user.scheduled_recipes.where(scheduled_date: date, time_of_day: "dinner").count.positive? ? '' : 'recipe-slot' %>" data-date="<%= date %>" data-time="dinner">
            <% current_user.scheduled_recipes.where(scheduled_date: date, time_of_day: "dinner").each do |scheduled_recipe| %>
              <%= render 'scheduled_recipes/scheduled_recipe', scheduled_recipe: scheduled_recipe %>
            <% end %>
          </div>
        </div>
      </div>
    <% end %>
  </div>
  <div class="fav-recipes">
    <h2 class="text-center">Favorite Recipes</h2>
    <ul id="favorite-recipes" class="list-unstyled">
      <% @favorites.each do |recipe| %>
        <li class="media" data-url="<%= recipe_scheduled_recipes_path(recipe, format: :json) %>">
          <img class="mr-3" src="<%= recipe.photo %>" alt="<%= recipe.name %>" style="height: 50px; width: 50px;">
          <div class="media-body">
            <h5 class="mt-0 mb-1"><%= recipe.name %></h5>
          </div>
        </li>
      <% end %>
    </ul>
  </div>
</div>

<%= javascript_pack_tag 'calendar_sortable' %>
